angular.module("md-datepicker",[]).directive("datepicker",["$filter",function(e){"use strict";function t(t,o,s){t.frenchDay=a,t.frenchMounth=r,t.frenchMinDay=n,t.pickDate=new Date,t.currentYear,t.currentMonth,t.currentDay=0,t.animateDate="animateDate";var l=1;t.months=[],t.selectMounth=0;t.calendarDay=[],t.calculateDay=function(e){return(e-l+7)%7};var u=s.format||"shortDate";if(s.date){var h=s.mindate.split("/");t.pickDate=new Date(parseInt(h[2]),parseInt(h[0])-1,parseInt(h[1]))}if(s.mindate){var m=s.mindate.split("/");i=new Date(parseInt(m[1]),parseInt(m[0])-1,1)}if(s.maxdate){var v=s.maxdate.split("/");c=new Date(parseInt(v[1]),parseInt(v[0])-1,1)}var D,p,y;p=d([i.getMonth(),i.getFullYear()]),y=d([c.getMonth(),c.getFullYear()]),t.currentDay=t.pickDate.getDate(),t.curMonth=p[0],t.curYear=p[1];var D,M,f;for(t.months=[];t.curYear<y[1]||t.curYear==y[1]&&t.curMonth<=y[0];){var g={weeks:[],days:[],name:"",mounth:t.curMonth,year:t.curYear};D=new Date(t.curYear,t.curMonth,1),M=t.calculateDay(D.getDay()),g.name=r[t.curMonth],D=new Date(t.curYear,t.curMonth+1,0),f=D.getDate();for(var k=0;M>k;k++)g.days.push(void 0);for(var k=1;f>=k;k++){var b=new Date(t.curYear,t.curMonth,k);g.days.push({n:k,day:a[t.calculateDay(b.getDay())],enabled:b>=i&&c>=b})}for(var k=0;5>=k;k++){for(var p=7*k,w=7,x=g.days.slice(p,7*k+w);x.length<7;)x.push(void 0);g.weeks.push(x)}(g.year<t.pickDate.getFullYear()||g.year==t.pickDate.getFullYear()&&g.mounth<t.pickDate.getMonth())&&t.selectMounth++,t.months.push(g),t.curMonth++,13==t.curMonth&&(t.curMonth=1,t.curYear++)}t.nextMounth=function(){return t.selectMounth++,!1},t.previousMounth=function(){t.selectMounth--},t.selectedDate=function(e,a,n){t.pickDate=new Date(e,a,n),t.animateDate="scope.animateDate"==t.animateDate?"":"animateDate"},t.save=function(){t._modelValue=e("date")(t.pickDate,u)},console.log(t.months)}var a=["lundi","mardi","mercredi","jeudi","vendredi","samedi","dimanche"],n=["L","M","M","J","V","S","D"],r=["janvier","fevrier","mars","avril","mai","juin","juillet","aout","septembre","octobre","novembre","decembre"],i=new Date(1900,0,1),c=new Date(2100,11,31),d=function(e){var t=e[0]%12;return[0>t?t+12:t,e[1]+Math.floor(e[0]/12)]};return{restrict:"E",require:"^ngModel",template:'<div class="datepicker">    <div class="datepicker header md-primary" layout="column" layout-align="center center" ><div class="datepicker header day {{animateDate}}"> {{frenchDay[calculateDay(pickDate.getDay())]}}</div> <div class="datepicker header body">     <div class="mounth">{{frenchMounth[pickDate.getMonth()]}}</div>     <div class="day">{{pickDate.getDate()}}</div>     <div class="year">{{pickDate.getFullYear()}}</div> </div> </div> <div class="datepicker content body">    <div class="mounth" layout="row" >         <md-button  class="left button" flex  ng-click="previousMounth()" ng-disabled="selectMounth<=0" flex>           <                </md-button>         <span >{{frenchMounth[months[selectMounth].mounth]}} {{months[selectMounth].year}}</span>         <md-button  class="right button " flex ng-click="nextMounth()" ng-submit="false" flex>             >         </md-button>     </div>     <div class="calendarNumber">         <div  class="row title-day" >             <div ng-repeat=" day in frenchMinDay track by $index"  class="calendarDayNumber " flex>{{day}} </div>         </div>        <div ng-repeat=" weeks in months[selectMounth].weeks track by $index"  class="row" >            <div ng-repeat=" day in weeks track by $index"  class="calendarDayNumber" flex>                <div ng-if="day === undefined" class="day" noflex></div>                <div ng-if="day != undefined" class="day"  enabled="{{day.enabled}}" data-date="{{day.n}}"  date-selected="{{day.n == pickDate.getDate() && months[selectMounth].mounth == pickDate.getMonth() && months[selectMounth].year == pickDate.getFullYear() }}"  noflex>                    <md-button class="md-fab" ng-click="selectedDate(months[selectMounth].year,months[selectMounth].mounth,day.n )">                       <span>{{day.n}}</span>                   </md-button>               </div>             </div>         </div>     </div>     <div class="calendar-action"  layout="row">       <md-button flex>Cancel</md-button>       <md-button flex ng-click="save()">OK</md-button>    </div>    <div>Mois + ann√©e slide</div>     <div>Calendar</div>     <div> pickDate.getMonth() == {{pickDate.getMonth()}}    <div> selectMounth == {{selectMounth}}</div> </div> </div>',link:t,scope:{date:"=?",mindate:"=?",maxdate:"=?",_modelValue:"=ngModel",format:"=?"}}}]);